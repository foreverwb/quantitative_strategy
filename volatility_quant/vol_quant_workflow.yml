app:
  description: 'æ³¢åŠ¨ç‡ä¸ç»“æ„æ€§ä¾›éœ€åˆ†æå¸ˆ'
  icon: 'ğŸ¤–'
  icon_background: '#D5D9EB'
  mode: advanced-chat
  name: 'æ³¢åŠ¨ç‡é‡åŒ–åˆ†æå¸ˆ V3'
  use_icon_as_answer_icon: false
dependencies:
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/openai:0.2.5@373362a028986aae53a7baf73a7f11991ba3c22c69eaf97d6cde048cfd4a9f98
kind: app
version: 0.4.0
workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      allowed_file_extensions:
      - .JPG
      - .JPEG
      - .PNG
      - .GIF
      - .WEBP
      - .SVG
      allowed_file_types:
      - image
      allowed_file_upload_methods:
      - local_file
      - remote_url
      enabled: false
      fileUploadConfig:
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        image_file_size_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: "ä½ å¥½,æˆ‘æ˜¯æ‚¨çš„æ³¢åŠ¨ç‡ä¸ç»“æ„æ€§ä¾›éœ€åˆ†æå¸ˆã€‚è¯·ç¨ç­‰,æˆ‘å°†å‘æ‚¨æ”¶é›†åˆ†ææ‰€éœ€çš„å˜é‡ã€‚"
    retriever_resource:
      enabled: false
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions:
    - "å¼€å§‹åˆ†æ"
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    # 1. Start -> Router
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: start
        targetType: llm
      id: 1740000001-source-1740000002-target
      source: '1740000001'
      sourceHandle: source
      target: '1740000002'
      targetHandle: target
      type: custom
      zIndex: 0
    
    # 2. Router -> Main Router
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: llm
        targetType: if-else
      id: 1740000002-source-1740000003-target
      source: '1740000002'
      sourceHandle: source
      target: '1740000003'
      targetHandle: target
      type: custom
      zIndex: 0
      
    # 3. Path A: New Request
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: if-else
        targetType: llm
      id: 1740000003-source-1740000011-target
      source: '1740000003'
      sourceHandle: source
      target: '1740000011'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: llm
        targetType: answer
      id: 1740000011-source-1740000012-target
      source: '1740000011'
      sourceHandle: source
      target: '1740000012'
      targetHandle: target
      type: custom
      zIndex: 0

    # 4. Path B: Vars Provided
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: if-else
        targetType: llm
      id: 1740000003-source-1740000021-target
      source: '1740000003'
      sourceHandle: source
      target: '1740000021'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: llm
        targetType: answer
      id: 1740000021-source-1740000022-target
      source: '1740000021'
      sourceHandle: source
      target: '1740000022'
      targetHandle: target
      type: custom
      zIndex: 0

    # 5. Path C: Data Provided
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: if-else
        targetType: llm
      id: 1740000003-source-1740000031-target
      source: '1740000003'
      sourceHandle: source
      target: '1740000031'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: llm
        targetType: answer
      id: 1740000031-source-1740000032-target
      source: '1740000031'
      sourceHandle: source
      target: '1740000032'
      targetHandle: target
      type: custom
      zIndex: 0

    # 6. Path D: Invalid
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: if-else
        targetType: answer
      id: 1740000003-source-1740000041-target
      source: '1740000003'
      sourceHandle: source
      target: '1740000041'
      targetHandle: target
      type: custom
      zIndex: 0

    nodes:
    # --------------------------------------------------
    # 1. START NODE
    # --------------------------------------------------
    - data:
        desc: ''
        selected: false
        title: ç”¨æˆ·è¾“å…¥
        type: start
        variables:
        - label: query
          max_length: 20000
          options: []
          required: true
          type: text-input
          variable: query
      height: 90
      id: '1740000001'
      position:
        x: 30
        y: 300
      positionAbsolute:
        x: 30
        y: 300
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244

    # --------------------------------------------------
    # 2. AGENT 1: Router
    # --------------------------------------------------
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gpt-4o
          provider: openai
        prompt_template:
        - id: sys-router-001
          role: system
          text: "ä½ æ˜¯ä¸€ä¸ªè·¯ç”±åŠ©æ‰‹ã€‚ä½ çš„å”¯ä¸€ä»»åŠ¡æ˜¯åˆ¤æ–­ç”¨æˆ·è¾“å…¥å±äºä»¥ä¸‹å“ªä¸€ç±»,å¹¶ä»…è¾“å‡º VARS_PROVIDED, DATA_PROVIDED, NEW_REQUEST, æˆ– INVALIDã€‚1.VARS_PROVIDED:å¦‚æœæ¶ˆæ¯ä¸­åŒ…å«æ˜ç¡®çš„å˜é‡èµ‹å€¼,å¦‚symbol:,event_type:,HV10:,holding_window:ã€‚2.DATA_PROVIDED:å¦‚æœæ¶ˆæ¯ä¸­åŒ…å«gexbotçš„å›¾è¡¨æ•°æ®ç‰¹å¾è¯,å¦‚!trigger,!gexn,VOL TRIGGER:,gexr output:,RIM:,VVIX:ã€‚3.NEW_REQUEST:å¦‚æœæ¶ˆæ¯æ˜¯æ–°çš„ä¼šè¯å‘èµ·,å¦‚ä½ å¥½,å¼€å§‹åˆ†æ,åˆ†æä¸€ä¸‹NVDA,å¹¶ä¸”ä¸åŒ…å«ä¸Šè¿°1å’Œ2çš„ç‰¹å¾è¯ã€‚4.INVALID:å…¶ä»–æ‰€æœ‰æƒ…å†µã€‚ã€ä½ çš„åˆ¤æ–­ã€‘"
        - role: user
          text: '{{#1740000001.query#}}'
        selected: false
        title: LLMè·¯ç”±
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '1740000002'
      position:
        x: 334
        y: 300
      positionAbsolute:
        x: 334
        y: 300
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244

    # --------------------------------------------------
    # 3. IF-ELSE NODE
    # --------------------------------------------------
    - data:
        cases:
        - case_id: case-new-request
          conditions:
          - comparison_operator: contains
            id: cond-new-request
            value: NEW_REQUEST
            variable_selector:
            - '1740000002'
            - text
          logical_operator: and
        - case_id: case-vars-provided
          conditions:
          - comparison_operator: contains
            id: cond-vars-provided
            value: VARS_PROVIDED
            variable_selector:
            - '1740000002'
            - text
          logical_operator: and
        - case_id: case-data-provided
          conditions:
          - comparison_operator: contains
            id: cond-data-provided
            value: DATA_PROVIDED
            variable_selector:
            - '1740000002'
            - text
          logical_operator: and
        - case_id: case-invalid
          conditions:
          - comparison_operator: contains
            id: cond-invalid
            value: INVALID
            variable_selector:
            - '1740000002'
            - text
          logical_operator: and
        desc: ''
        selected: false
        title: æ„å›¾åˆ†æ”¯
        type: if-else
      height: 90
      id: '1740000003'
      position:
        x: 638
        y: 300
      positionAbsolute:
        x: 638
        y: 300
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244

    # --------------------------------------------------
    # PATH A: NEW REQUEST
    # --------------------------------------------------
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gpt-4o
          provider: openai
        prompt_template:
        - id: sys-ask-001
          role: system
          text: "ä½ æ˜¯æˆ‘çš„æ³¢åŠ¨ç‡ä¸ç»“æ„æ€§ä¾›éœ€åˆ†æå¸ˆã€‚ä½ çš„ç¬¬ä¸€ä¸ªä»»åŠ¡æ˜¯å¼€å§‹äº¤äº’æµç¨‹,å‘æˆ‘æ”¶é›†å¿…è¦çš„åˆå§‹å˜é‡ã€‚è¯·ä¸¥æ ¼æŒ‰ç…§ä»¥ä¸‹æ ¼å¼,å‘ç”¨æˆ·æé—®,è¦æ±‚ä»–å¥¹æä¾›:æ‚¨å¥½,æˆ‘æ˜¯æ‚¨çš„æ³¢åŠ¨ç‡é‡åŒ–åˆ†æå¸ˆã€‚ä¸ºäº†å¼€å§‹åˆ†æ,è¯·æä¾›ä»¥ä¸‹ä¿¡æ¯(è‹¥æ— ç‰¹å®šå€¼,å¯å›å¤é»˜è®¤):1.symbol:(æŒ‡æ•°æ¿å—ETFå•è‚¡)2.event_type:(è´¢æŠ¥FOMCCPIéå†œå¹¶è´­å…¶ä»–)3.event_time_ET:(äº‹ä»¶å‘ç”Ÿæ—¶é—´)4.holding_window:(å¦‚Tåˆ°T+3,æˆ–5-20DTE)5.ç­–ç•¥åå¥½:(delta-neutralæˆ–å…è®¸deltaæš´éœ²)6.HV10HV20HV60:(è¯·æä¾›YZå£å¾„çš„å¹´åŒ–å€¼,å¦‚25/30/35)7.ä¼šè¯æ—¶é—´:(ç›˜ä¸­RTHç›˜å‰ç›˜å)8.ä¸Šä¸‹æ–‡:(æ˜¯å¦é™é»˜æœŸ?æ˜¯å¦ä¸´è¿‘OPEX?æœ‰æ— çªå‘æ–°é—»?)9.å¢å¼ºæ•°æ®(å¯é€‰):(è‹¥èƒ½æä¾›,è¯·ä¸€å¹¶ç»™å‡º:VVIX,VIX9D/VIX,è´¢æŠ¥implied move,éšå«ç›¸å…³æ€§ç­‰)è¯·ä»…è¾“å‡ºä»¥ä¸Šæé—®å†…å®¹ã€‚"
        - role: user
          text: '{{#1740000001.query#}}'
        selected: false
        title: LLMå˜é‡æ”¶é›†
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '1740000011'
      position:
        x: 942
        y: 50
      positionAbsolute:
        x: 942
        y: 50
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#1740000011.text#}}'
        desc: ''
        selected: false
        title: å›å¤æé—®
        type: answer
        variables: []
      height: 90
      id: '1740000012'
      position:
        x: 1246
        y: 50
      positionAbsolute:
        x: 1246
        y: 50
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244

    # --------------------------------------------------
    # PATH B: VARS PROVIDED
    # --------------------------------------------------
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gpt-4o
          provider: openai
        prompt_template:
        - id: sys-gencmd-001
          role: system
          text: "ä½ æ˜¯åˆ†æå¸ˆã€‚ç”¨æˆ·å·²æä¾›äº†åˆå§‹å˜é‡ã€‚ä½ çš„ä»»åŠ¡æ˜¯:1.è§£æç”¨æˆ·æä¾›çš„å˜é‡ã€‚2.å°†è¿™äº›å˜é‡æ‰“åŒ…æˆä¸€ä¸ªJSONå­˜æ ¹(éšè—åœ¨HTMLæ³¨é‡Šä¸­),ç”¨äºå¯¹è¯å†å²ä¼ é€’ã€‚3.æ ¹æ®å˜é‡(ä¸»è¦æ˜¯SYMBOL),ç”Ÿæˆæ ‡å‡†æŒ‡ä»¤åˆ—è¡¨(é»˜è®¤å¥—ä»¶)ã€‚4.ä¸¥æ ¼æŒ‰ç…§ç®€åŒ–ç‰ˆæŒ‰è¡Œè¾“å‡ºçš„æ ¼å¼è¿”å›å‘½ä»¤ã€‚æ ‡å‡†æŒ‡ä»¤åˆ—è¡¨(é»˜è®¤å¥—ä»¶):!gexn {SYMBOL} 15 98;!gexr {SYMBOL} 15 98;!dex {SYMBOL} 15 98;!vexn {SYMBOL} 15 98;!vanna {SYMBOL} 15 98;!trigger {SYMBOL};!term {SYMBOL};!skew {SYMBOL} 0 98;!skew {SYMBOL} 25 98;!surface {SYMBOL} vex ntm 190ã€‚è¯·è¾“å‡º:æ„Ÿè°¢æ‚¨æä¾›å˜é‡ã€‚è¯·æ‰§è¡Œä»¥ä¸‹gexbotå‘½ä»¤å¹¶å›ä¼ æ‰€æœ‰å›¾è¡¨å’Œè¯»æ•°,ç„¶åå°†å®é™…å‘½ä»¤åˆ—è¡¨æ›¿æ¢åˆ°æ­¤å¤„ã€‚"
        - role: user
          text: '{{#1740000001.query#}}'
        selected: false
        title: LLMå‘½ä»¤ç”Ÿæˆ
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '1740000021'
      position:
        x: 942
        y: 200
      positionAbsolute:
        x: 942
        y: 200
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#1740000021.text#}}'
        desc: ''
        selected: false
        title: å›å¤å‘½ä»¤æ¸…å•
        type: answer
        variables: []
      height: 90
      id: '1740000022'
      position:
        x: 1246
        y: 200
      positionAbsolute:
        x: 1246
        y: 200
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244

    # --------------------------------------------------
    # PATH C: DATA PROVIDED
    # --------------------------------------------------
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gpt-4o
          provider: openai
        prompt_template:
        - id: sys-analyst-001
          role: system
          text: "ä½ æ˜¯æ³¢åŠ¨ç‡ä¸ç»“æ„æ€§ä¾›éœ€åˆ†æå¸ˆã€‚è¿™æ˜¯æœ€å…³é”®çš„ä¸€æ­¥ã€‚ä»»åŠ¡:1.å›æº¯çŠ¶æ€:ä»”ç»†é˜…è¯»å¯¹è¯å†å²,æ‰¾åˆ°HTMLæ³¨é‡Šå—,æå–æ‰€æœ‰åˆå§‹å˜é‡(symbol,event,HV10/20/60,holding_windowç­‰)ã€‚2.è§£ææ•°æ®:è§£æç”¨æˆ·å½“å‰çš„è¾“å…¥,è¿™åŒ…å«äº†gexbotå›¾è¡¨æ•°æ®(å¦‚VOL TRIGGER,GEX,VEX,Skewç­‰)ã€‚3.å®Œæ•´æ€§æ£€æŸ¥(è¿½é—®RIM):æ£€æŸ¥è¾“å…¥ä¸­æ˜¯å¦å·²åŒ…å«RIM(Realized/Implied Moveæ¯”å€¼)æˆ–å…¶è®¡ç®—æ‰€éœ€æ•°æ®ã€‚å¦‚æœç¼ºå¤±RIM:ä½ çš„å”¯ä¸€ä»»åŠ¡æ˜¯åœæ­¢åˆ†æ,å¹¶ä¸¥æ ¼æŒ‰ç…§ç”¨æˆ·è¡¥å……æ•°æ®çš„è·å–è·¯å¾„ä¸è¦æ±‚æ¨¡æ¿å‘ç”¨æˆ·è¿½é—®RIMæ•°æ®ã€‚è¿½é—®æ¨¡æ¿:æ•°æ®å·²æ”¶åˆ°ã€‚åˆ†æè¿˜éœ€è¦æœ€åä¸€æ­¥å…³é”®æ•°æ®:ç›˜ä¸­çœŸå®æ³¢å¹…(RIM)ã€‚è¯·æä¾›RIM(Realized/Implied Moveæ¯”å€¼)æˆ–å…¶è®¡ç®—æ‰€éœ€å­—æ®µ(ä¸‰é€‰ä¸€):1.ä»·å·®æ³•(æ¨è):æä¾›è¿‘5-15åˆ†é’Ÿçš„é«˜ä½ä»·æˆ–ATR(1-5m),ä»¥åŠå½“å‰æ ‡çš„ä»·æ ¼Sã€‚2.IVæ³•:æä¾›ç›®æ ‡DTEçš„ATM IVã€æ ‡çš„Sã€çª—å£w(åˆ†é’Ÿ)ã€‚3.è·¨ä»·æ³•:æä¾›ç›®æ ‡DTEçš„ATM straddleä»·æ ¼ã€‚(è‹¥ä¸ºè´¢æŠ¥åœºæ™¯,è¯·æä¾›å¹³å°æ˜¾ç¤ºçš„earnings implied move%)ã€‚å¦‚æœRIMå·²æä¾›:åˆ™æ‰§è¡Œå®Œæ•´åˆ†æã€‚å®Œæ•´åˆ†ææ­¥éª¤:1.NET-GEXåˆ¤å®š(å¿…é¡»ä½¿ç”¨VOL TRIGGERä½œä¸ºå”¯ä¸€è¯æ®)2.å¢™è·è¯„ä¼°(è®¡ç®—GammaWallProx)3.RV/HVåŒ¹é…4.è®¡ç®—ä¿¡å·(VRP_sel,S_vrp,S_carry,S_skew,S_gex,S_vex,S_vanna,S_rv,S_liq,S_vov,S_rimç­‰æ‰€æœ‰åˆ†æ•°)5.è®¡ç®—æ€»åˆ†(LongVolScoreå’ŒShortVolScore)6.æ ¡å‡†æ¦‚ç‡(ä½¿ç”¨å†·å¯åŠ¨å…ˆéªŒp_longå’Œp_short)7.ä¸‰åˆ†ç±»å†³ç­–(åšå¤šæ³¢åŠ¨ç‡/åšç©ºæ³¢åŠ¨ç‡/è§‚æœ›)8.Edgeæ£€æŸ¥(å¿…é¡»EV>0ä¸”RR>=1.5:1)9.ç­–ç•¥æ˜ å°„(ä»…åœ¨å†³ç­–éè§‚æœ›ä¸”Edgeæ£€æŸ¥é€šè¿‡æ—¶,ç»™å‡º1-3ç§ç­–ç•¥)ã€‚æœ€ç»ˆè¾“å‡º:1.ç»“è®º:(å¤šç©ºè§‚æœ›)+æ–¹å‘æ¦‚ç‡pä¸ä¸»è¦ç†ç”±(æ˜ç¡®å¼•ç”¨VOL TRIGGERåˆ¤æ–­)2.ç­–ç•¥ä¸å‚æ•°:(DTEã€è¡ŒæƒåŒºé—´ã€å¸Œè…Šã€ç›®æ ‡ç›ˆäºæ¯”ã€èƒœç‡EVä¼°è®¡ã€å…¥åœºè§¦å‘ä¸é€€å‡º)3.å…³é”®åˆ†æ•°:åˆ—å‡ºæ‰€æœ‰S_å¼€å¤´çš„åˆ†æ•°4.æ—¶é—´æˆ³ä¸ç¼ºå¤±é¡¹æ›¿ä»£;0DTEå·²è§„é¿;é™å®šç›˜ä¸­æ‰§è¡Œ(ET)"
        - role: user
          text: '{{#1740000001.query#}}'
        selected: false
        title: LLMé‡åŒ–åˆ†æ
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '1740000031'
      position:
        x: 942
        y: 400
      positionAbsolute:
        x: 942
        y: 400
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#1740000031.text#}}'
        desc: ''
        selected: false
        title: å›å¤åˆ†ææˆ–è¿½é—®RIM
        type: answer
        variables: []
      height: 90
      id: '1740000032'
      position:
        x: 1246
        y: 400
      positionAbsolute:
        x: 1246
        y: 400
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244

    # --------------------------------------------------
    # PATH D: INVALID
    # --------------------------------------------------
    - data:
        answer: "è¾“å…¥æ— æ³•è¯†åˆ«ã€‚è¯·æŒ‰ä»¥ä¸‹æµç¨‹æ“ä½œ:\n1.(å¦‚æœåˆšå¼€å§‹)ç­‰å¾…æˆ‘å‘æ‚¨æé—®ã€‚\n2.(å¦‚æœæˆ‘å·²æé—®)è¯·æŒ‰symbol:XXXæ ¼å¼å›å¤å˜é‡ã€‚\n3.(å¦‚æœæˆ‘å·²ç»™å‘½ä»¤)è¯·ç²˜è´´gexbotæ•°æ®ã€‚\n4.(å¦‚æœæˆ‘å·²è¿½é—®)è¯·æä¾›RIMæ•°æ®ã€‚"
        desc: ''
        selected: false
        title: å›å¤æ— æ•ˆ
        type: answer
        variables: []
      height: 90
      id: '1740000041'
      position:
        x: 942
        y: 600
      positionAbsolute:
        x: 942
        y: 600
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    viewport:
      x: 0
      y: 0
      zoom: 1
  rag_pipeline_variables: []